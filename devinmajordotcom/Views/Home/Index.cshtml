@using Newtonsoft.Json
@using devinmajordotcom.ViewModels
@model devinmajordotcom.ViewModels.MainLandingPageViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.ControllerName = ViewBag.ControllerName;
}

<div id="mainContainer">

    @Html.Partial("_Apps", Model)

    @Html.Partial("_ServerStatus", Model)

    @Html.Partial("_ContactContent", Model)

    @Html.Partial("_ApplicationManager", Model.CurrentApplicationConfig)


    @if (!Model.CurrentUserViewModel.UserIsAdmin || !Model.CurrentUserViewModel.UserIsActive)
    {
        @section scripts {
            <script>
            var html = '@Html.Raw(@Html.Partial("_LoginModal", Model.CurrentUserViewModel).ToHtmlString().Replace(Environment.NewLine, ""))';
            $('body').append(html);
            </script>
        }
    }

    @if (String.IsNullOrEmpty(Model.CurrentUserViewModel.EmailAddress) && Model.CurrentUserViewModel.UserIsAdmin && Model.CurrentUserViewModel.UserIsActive)
    {
        @section scripts {
            <script>
            var html = '@Html.Raw(@Html.Partial("_AdminFirstRunModal", Model.CurrentUserViewModel).ToHtmlString().Replace(Environment.NewLine, ""))';
            $('body').append(html);
            $("#adminFirstRunFormModal").modal();
            </script>
        }
    }

</div>