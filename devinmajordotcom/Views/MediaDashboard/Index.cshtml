@using devinmajordotcom.Helpers;
@model devinmajordotcom.ViewModels.MediaDashboardViewModel
@{
    Layout = "../Shared/_MediaLayout.cshtml";
}

<div id="nav">
    <ul class="menu toggled nav" id="menu">

        @if (Model.SidebarLinks.Count > 0)
        {
            foreach (var sidebarLink in Model.SidebarLinks)
            {

                var cssClassNameList = "";

                if(sidebarLink.IsDefault)
                {
                    cssClassNameList += "active ";
                }

                cssClassNameList += sidebarLink.DisplayIcon;

                <li title="@sidebarLink.DisplayName">
                    <span class="sidebarItem"><a data-framename="@sidebarLink.ID" href="#" class="@cssClassNameList">@sidebarLink.DisplayName</a></span>
                </li>
            }
        }

    </ul>
</div>

@if (Model.SidebarLinks.Count > 0)
{ 
    <div id="nav1"></div>
}


<div id="site-wrapper" class="site-wrapper">

    @if (Model.SidebarLinks.Count > 0)
    {
        foreach (var link in Model.SidebarLinks)
        {
            if (link.URL != null)
            {
                <iframe 
                        src="@link.URL"
                        style="width: 100%; height: 99.5vh; position: relative; z-index: -1; border: none; @if(!link.IsDefault) { <text>display:none;</text> }"
                        id="@link.ID"
                        scrolling="auto"
                        sandbox="allow-forms allow-same-origin allow-pointer-lock allow-scripts allow-popups allow-modals"
                        allowfullscreen="true"
                        webkitallowfullscreen="true"
                        class="z-iframe"
                        frameborder="0">
                </iframe>
            }
            else
            {
                //TODO: Add something here, preferably make use of Controller/Action variables
            }
        }
    }
    else
    {
        @Html.Partial("../Shared/Error", new HandleErrorInfo(new Exception(), "MediaDashboard", "Index"))
    }
</div>